%==========================
\section{Automated Testing}

\begin{frame}
  \frametitle{Why Automate Testing?}
  \begin{itemize}
    \item Save time
    \item Save money
    \item Test thoroughness
    \begin{itemize}
      \item Humans miss details
      \item Humans get bored or tired
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{How Do We Automate?}
  \begin{itemize}
    \item Write functions that exercise the system under test
    \item Put these functions in a format that can be consumed by a test runner
    \item Call test runner
    \item Interpret test runner's output
  \end{itemize}
\end{frame}

%-----------------------
\subsection{Technologies}

\begin{frame}
  \frametitle{Languages}
  \begin{itemize}
    \item Test frameworks exist for many languages
    \item Testers prefer ``easier'' scripting languages like Perl, Ruby, Python
    \item This discussion will center around Python
    \begin{itemize}
      \item Much can be implemented in Ruby
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Frameworks}
  \begin{itemize}
    \item Has a suite of assertion convenience methods
    \item Has logging/reporting facilities
    \item Has a runner
    \item Python: \texttt{unittest}, \texttt{nose}, \texttt{pytest}
    \item \texttt{unittest} is in the Python Standard Library
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Glass Box Testing}
  \begin{itemize}
    \item Test code interacts directly with the System Under Test's source
    \item Can probe very deeply into execution
    \item Use mock interfaces \& shims to isolate tests
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Black Box Testing}
  \begin{itemize}
    \item Test code interacts with the user or service interface of the running program
    \item Use external toolkits like Selenium to drive user interfaces
    \item Often in a special test environment but otherwise the unmodified software
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Selenium}
  \begin{itemize}
    \item Programmatic control of web browsers for testing and other automation
    \item Driver class allows navigation and document queries
    \item Node class allows interaction, data retrieval, and limited Driver-like queries for children
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{HTML (summary)}
  \begin{itemize}
    \item XML- based documents for the web
    \item Tree-structured
    \item Nodes have properties, including text, in addition to children
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{CSS (summary)}
  \begin{itemize}
    \item Language for styling HTML documents
    \item Format- \texttt{selector}: \texttt{rule};
    \item Selectors: strings that identify one, many, or none of the nodes in an HTML document
    \item Rules: specific styling attributes to apply to each node matched by attached rule
  \end{itemize}
\end{frame}

%-----------------------------------------
\subsection{System Under Test: Monica CRM}
\begin{frame}
  \frametitle{Monica: A Personal CRM}
  \begin{itemize}
    \item Open-Source
    \item Life-tracker
    \item Friend-keeper
    \item Journal
    \item In the cloud
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Contacts}
  % screenshot and discussion of contacts features
\end{frame}

\begin{frame}
  \frametitle{Relationship Management}
  % screenshot and discussion of per-contact activity log, phone log, etc
\end{frame}

\begin{frame}
  \frametitle{Journal}
  % screenshot and discussion of journaling activities
\end{frame}

%----------------------------------
\subsection{Patterns and Practices}

\begin{frame}
  \frametitle{Page Object Modeling}
  \begin{itemize}
    \item Each page on a site corresponds to a Python class.
    \item Fields or important strings on pages get getters and setters.
    \item Clickable buttons or links get click() functions.
    \begin{itemize}
      \item If the click should transition to a new page, construct and return that new page's class.
    \end{itemize}
    \item In class constructors, assert invariants about that page.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{How Web Test Suites Come Together}
  \begin{itemize}
    \item Build all the page objects and put them in /pages/.
    \item Write step-by-step test plan as comments in the body of a function in the runner's format.
    \item Translate english steps into Python code.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Running Tests}
  \begin{itemize}
    \item Same as running any other Python script
    \item \texttt{python3 test\_contacts.py}
    \item Some frameworks have a multi-script runner
    \item \texttt{python3 -m unittest}
  \end{itemize}
\end{frame}
